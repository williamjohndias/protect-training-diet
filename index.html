<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="description" content="Acompanhe seus treinos com Protect Training">
  <meta name="theme-color" id="theme-color-meta" content="#0f0f12">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Protect">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/icon.svg">
  <title>Protect Training</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- HEADER -->
  <header class="header">
    <span class="logo">‚ö° Protect</span>
    <button class="theme-toggle" id="theme-toggle-btn" title="Alternar tema" aria-label="Alternar tema">üåô</button>
    <button class="avatar-btn" id="avatar-btn" title="Perfil" aria-label="Abrir configura√ß√µes">
      <img src="/avatar.svg" alt="Avatar" id="avatar-img">
    </button>
  </header>

  <!-- CONTE√öDO PRINCIPAL -->
  <main class="content">

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TREINO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="section-treino" class="section active">

      <!-- Treino ativo (oculto quando n√£o h√° sess√£o) -->
      <div id="active-workout-panel" class="panel-card hidden">
        <div class="workout-top-bar">
          <input type="text" id="workout-title" class="workout-title-input" placeholder="Nome do treino">
          <span id="workout-timer" class="workout-timer">00:00</span>
        </div>
        <div id="routine-ref-panel" class="hidden"></div>
        <div id="exercises-list"></div>
        <button class="btn-outline btn-block" id="add-exercise-btn" type="button">+ Adicionar exerc√≠cio</button>
        <div class="workout-footer-btns">
          <button class="btn-success" id="finish-workout-btn" type="button">‚úì Finalizar</button>
          <button class="btn-danger"  id="discard-workout-btn" type="button">Descartar</button>
        </div>
      </div>

      <!-- Card de in√≠cio -->
      <div id="start-card" class="panel-card start-card">
        <div class="start-card-body">
          <div class="start-icon">üèãÔ∏è</div>
          <h2>Pronto para treinar?</h2>
          <p>Inicie um treino livre ou escolha um dia da sua rotina abaixo.</p>
          <button class="btn-primary btn-lg" id="start-free-workout-btn" type="button">Iniciar treino livre</button>
        </div>
      </div>

      <!-- Minha Rotina -->
      <div class="panel-card">
        <div class="card-header">
          <h2>Minha Rotina</h2>
          <button class="btn-hevy" id="create-hevy-routines-btn" type="button">+ Criar no Hevy</button>
        </div>
        <div id="hevy-routines-status" class="hidden"></div>
        <div class="routine-days-grid" id="routine-days-grid"></div>
      </div>

      <!-- Evolu√ß√£o & Proje√ß√£o -->
      <div class="panel-card">
        <h2>üìà Evolu√ß√£o & Proje√ß√£o</h2>
        <div class="evo-block">
          <div class="evo-block-title">Proje√ß√£o de cargas por dia</div>
          <select id="evo-day-select">
            <option value="">Selecione o dia‚Ä¶</option>
          </select>
          <div id="projection-table"></div>
        </div>
        <div class="evo-block">
          <div class="evo-block-title">Evolu√ß√£o de exerc√≠cio</div>
          <select id="evo-exercise-select">
            <option value="">Selecione um exerc√≠cio‚Ä¶</option>
          </select>
          <div id="evo-chart-wrap">
            <canvas id="evo-chart" height="200"></canvas>
          </div>
        </div>
      </div>

    </section>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CONFIGURA√á√ïES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="section-config" class="section">

      <!-- Perfil -->
      <div class="panel-card">
        <h2>Perfil</h2>
        <div class="settings-profile">
          <img src="/avatar.svg" alt="Avatar" class="settings-avatar" id="settings-avatar-img">
          <div class="settings-profile-info">
            <h3>William John Dias</h3>
            <p>Protect Training ¬∑ D1‚ÄìD4</p>
          </div>
        </div>

        <div class="form-row">
          <label for="custom-avatar-url">Foto de perfil (URL ou data:image)</label>
          <input type="url" id="custom-avatar-url" placeholder="https://‚Ä¶ ou cole uma URL de imagem">
        </div>
        <button class="btn-outline btn-block" id="save-avatar-btn" type="button">Salvar foto</button>
      </div>

      <!-- Apar√™ncia -->
      <div class="panel-card">
        <h2>Apar√™ncia</h2>
        <div class="setting-item">
          <div>
            <div class="setting-label">Modo escuro</div>
            <div class="setting-desc">Usar fundo escuro na interface</div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="dark-mode-toggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>

      <!-- Prefer√™ncias de treino -->
      <div class="panel-card">
        <h2>Prefer√™ncias de treino</h2>

        <div class="setting-item">
          <div>
            <div class="setting-label">Unidades de peso</div>
            <div class="setting-desc">Kg ou libras (lb)</div>
          </div>
          <div class="seg-control">
            <button class="seg-btn active" data-unit="kg" id="unit-kg">kg</button>
            <button class="seg-btn"        data-unit="lb" id="unit-lb">lb</button>
          </div>
        </div>

        <div class="setting-item">
          <div>
            <div class="setting-label">Descanso padr√£o</div>
            <div class="setting-desc" id="global-rest-desc">90 segundos</div>
          </div>
          <div class="seg-control" style="font-size:.8rem;">
            <button class="seg-btn" data-rest="60"  id="rest-60s">1min</button>
            <button class="seg-btn active" data-rest="90" id="rest-90s">1m30</button>
            <button class="seg-btn" data-rest="120" id="rest-120s">2min</button>
            <button class="seg-btn" data-rest="180" id="rest-180s">3min</button>
          </div>
        </div>

        <div class="setting-item">
          <div>
            <div class="setting-label">Som no fim do descanso</div>
            <div class="setting-desc">Bip quando o timer zerar</div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="sound-toggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>

        <div class="setting-item">
          <div>
            <div class="setting-label">Vibra√ß√£o ao completar s√©rie</div>
            <div class="setting-desc">Vibrar o dispositivo (mobile)</div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="vibration-toggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>

      <!-- Calculadora de anilhas -->
      <div class="panel-card">
        <h2>üî¢ Calculadora de Anilhas</h2>
        <div class="plate-calc">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:.65rem;margin-bottom:.65rem;">
            <div class="form-row" style="margin:0;">
              <label for="plate-target">Carga alvo</label>
              <input type="number" id="plate-target" placeholder="Ex: 100" min="0" step="0.5">
            </div>
            <div class="form-row" style="margin:0;">
              <label for="plate-bar">Peso da barra</label>
              <input type="number" id="plate-bar" placeholder="20" value="20" min="0" step="0.5">
            </div>
          </div>
          <button class="btn-primary btn-block" id="calc-plates-btn" type="button">Calcular</button>
          <div id="plate-result" class="plate-result hidden"></div>
        </div>
      </div>

      <!-- Sobre -->
      <div class="panel-card">
        <h2>Sobre</h2>
        <div class="setting-item">
          <div class="setting-label">Vers√£o</div>
          <div class="setting-desc">1.3.0</div>
        </div>
        <div class="setting-item">
          <div class="setting-label">Desenvolvido para</div>
          <div class="setting-desc">William John Dias</div>
        </div>
        <button class="btn-outline btn-block" style="margin-top:.75rem;" id="install-pwa-btn" type="button">üì≤ Instalar no celular</button>
      </div>

    </section>

  </main>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TIMER DE DESCANSO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="rest-timer-panel" class="rest-timer-panel hidden">
    <div class="rest-timer-inner">
      <div class="rest-timer-top">
        <span class="rest-timer-label">‚è± Descanso</span>
        <button class="rest-skip-btn" id="rest-skip-btn" type="button">Pular ‚úï</button>
      </div>
      <div id="rest-timer-display" class="rest-timer-display">1:30</div>
      <div class="rest-timer-bar-wrap">
        <div id="rest-timer-bar" class="rest-timer-bar" style="width:100%;background:var(--accent);"></div>
      </div>
      <div class="rest-timer-actions">
        <button id="rest-minus-btn" type="button">‚àí15s</button>
        <button id="rest-plus-btn"  type="button">+15s</button>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL ‚Äî ADICIONAR EXERC√çCIO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="exercise-modal" class="modal-overlay hidden">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <div class="modal-header">
        <h3 id="modal-title">Adicionar exerc√≠cio</h3>
        <button class="modal-close" id="exercise-modal-close" type="button" aria-label="Fechar">‚úï</button>
      </div>
      <div class="modal-body">
        <input type="search" id="exercise-search-input" placeholder="Buscar exerc√≠cio‚Ä¶ (pt ou en)" autocomplete="off">
        <div id="exercise-results" class="modal-list"><p class="loading-msg">Digite para buscar‚Ä¶</p></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NAV INFERIOR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <nav class="bottom-nav" aria-label="Navega√ß√£o principal">
    <button class="bnav-btn active" data-section="treino" aria-label="Treino">
      <span class="bnav-icon">üèãÔ∏è</span>
      <span class="bnav-label">Treino</span>
    </button>
    <button class="bnav-btn" data-section="config" aria-label="Configura√ß√µes">
      <span class="bnav-icon">‚öôÔ∏è</span>
      <span class="bnav-label">Config</span>
    </button>
  </nav>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
  <script src="config.js"></script>
  <script src="script.js"></script>
</body>
</html>
